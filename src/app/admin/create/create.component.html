<div *ngIf="loading" class="loading">
  <div class="lds-ellipsis">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>

<ng-container *ngIf="!loading">
  <div *ngIf="((post|async) || {}) as postData">
    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 16px;">
      <input [(ngModel)]="title" style="flex:1; max-width:80%; height:48px; font-size:32px" placeholder="Post Title" [value]="postData.title || ''">
      <button (click)="publish()">Publish</button>
    </div>

    <div class="file-upload-container">
      <button (click)="files.click()" style="width: 350px">Choose Cover Photo</button>
      <input #files (change)="uploadFile(files.files[0])" type="file" style="display: none;">
      <img *ngIf="!loadingPhoto" [src]="coverPhotoUrl || ''" style="max-width: 100%; max-height: 256px;">
      <div *ngIf="loadingPhoto" class="loading">
        <div class="lds-ellipsis">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </div>
  </div>
</ng-container>


<textarea name="editor1" id="editor1" rows="50" cols="80" [hidden]="loading">
  </textarea>